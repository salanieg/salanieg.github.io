<!DOCTYPE html>
<html>
	<head>

        <script>

			// HEIGHTFIX

            let vh = window.innerHeight * 0.01;
            document.documentElement.style.setProperty('--vh', `${vh}px`);

            window.addEventListener('resize', () => {
                let vh = window.innerHeight * 0.01;
                document.documentElement.style.setProperty('--vh', `${vh}px`);
            });
        </script>

		<script>

			// CUSTOM SCROLLBAR
			
			var timeoutid;

			function hidescrollbar() {
				document.documentElement.style.setProperty('--scrollbar-color', 'transparent');
			}
			
			document.getElementById("content").addEventListener("scroll", () => {
				document.documentElement.style.setProperty('--scrollbar-color', getComputedStyle(document.documentElement).getPropertyValue('--default-scrollbar-color'));
				clearTimeout(timeoutid)
				timeoutid = setTimeout(hidescrollbar, 3000);
			});

		</script>
		<!-- <script>

			// THEMES
			// CSS Themes variablen dürfen keine Leerzeichen haben

			var defaulttheme = getComputedStyle(document.documentElement).getPropertyValue('--theme');
			
			function togglenachtmodus() {

				var head  = document.getElementsByTagName('head')[0];
				var link  = document.createElement('link');
				link.id   = 'theme';
				link.rel  = 'stylesheet';
				link.type = 'text/css';
				link.media = 'all';


				var favicon = document.querySelector("link[rel~='icon']");
				if (!favicon) {
					favicon = document.createElement('favicon');
					favicon.rel = 'icon';
				}
				

				var nachtmodus = localStorage.getItem('nachtmodus')
				if (nachtmodus == "true") {nachtmodus = true;}
				else {nachtmodus = false;}


				if(!nachtmodus) {
					link.href = 'styles/black.css';
					favicon.href = 'images/internal/faviconblack.ico';
					// document.getElementById("check").style.visibility = 'visible';
					localStorage.setItem('nachtmodus', "true");
				}
				else if (defaulttheme == "red") {
					link.href = 'styles/red.css';
					favicon.href = 'images/internal/faviconred.ico';
					// document.getElementById("check").style.visibility = 'hidden';
					localStorage.setItem('nachtmodus', "false");
				}
				else if (defaulttheme == "white") {
					link.href = 'styles/white.css';
					favicon.href = 'images/internal/faviconwhite.ico';
					// document.getElementById("check").style.visibility = 'hidden';
					localStorage.setItem('nachtmodus', "false");
				}
				else if (defaulttheme == "black") {
					link.href = 'styles/black.css';
					favicon.href = 'images/internal/faviconblack.ico';
					// document.getElementById("check").style.visibility = 'hidden';
					localStorage.setItem('nachtmodus', "false");
				}
				else {
					alert("FEHLENDES THEME; Bitte benachrichtige GEFAENGNISHEFTE@riseup.net");
					return;
				}

				head.appendChild(link);
				head.appendChild(favicon);
			}

			function initnachtmodus() {
				var nachtmodus = localStorage.getItem('nachtmodus')
				if (nachtmodus == "true") {nachtmodus = true;}
				else {nachtmodus = false;}

				if(nachtmodus) {
					var head  = document.getElementsByTagName('head')[0];
					var link  = document.createElement('link');
					link.id   = 'theme';
					link.rel  = 'stylesheet';
					link.type = 'text/css';
					link.media = 'all';

					var favicon = document.querySelector("link[rel~='icon']");
					if (!favicon) {
						favicon = document.createElement('favicon');
						favicon.rel = 'icon';
					}

					link.href = 'styles/black.css';
					favicon.href = 'images/internal/faviconblack.ico';

					head.appendChild(link);
					head.appendChild(favicon);
				}

			}
			
			initnachtmodus();
		</script> -->
		<script>

			// DROPMENU

			var menuopen = false;

            window.addEventListener("resize", (event) => {
                if ($(window).width() < 800 && !menuopen) {
					document.getElementById("openmenu").style.display = "inline";
                }
				else {
					document.getElementById("openmenu").style.display = "none";
				}
            });

			function openmenu(menu, anchor) {
				hidedropmenus();

				document.getElementById(menu).style.height = "fit-content";
				document.getElementById(anchor).style.visibility = "visible";

				if ($(window).width() > 800) {
					document.getElementById(menu).style.width = document.getElementById("navigation").offsetWidth + 30 + 'px';
				}
				else {
					document.getElementById(menu).style.width = "100vw";
					document.getElementById("headerlogo").style.visibility = "hidden";
					document.getElementById("openmenu").style.display = "none";
					document.getElementById("closemenu").style.display = "inline";
				}

				menuopen = true
			}

			function closemenu() {

				hidedropmenus();

				if ($(window).width() < 800) {
					document.getElementById("headerlogo").style.visibility = "visible";
					document.getElementById("closemenu").style.display = "none";
					document.getElementById("openmenu").style.display = "inline";
				}

				hideissues()
				menuopen = false
			}

			function hidedropmenus() {
				document.getElementById("dropmenui").style.width = "0vw";
				document.getElementById("dropmenus").style.width = "0vw";
				document.getElementById("dropmenuk").style.width = "0vw";
				document.getElementById("dropmenum").style.width = "0vw";
			}

			function showissues() {
				document.getElementById("showissues").style.display = "none";
				document.getElementById("hideissues").style.display = "inline";
				document.getElementById("issue-list").style.display = "block";
			}

			function hideissues() {
				document.getElementById("showissues").style.display = "inline";
				document.getElementById("hideissues").style.display = "none";
				document.getElementById("issue-list").style.display = "none";
			}

			
		</script>

		<script>

			// NAVIGATION HIGHLIGHT

			$(function(){
				highlight("", "dropanchori");
				highlight("/", "dropanchori");
				highlight("/issue-i", "dropanchori");
				highlight("/issue-i", "info-issue-i");
				highlight("/special-issues", "dropanchors");
				highlight("/kanon", "dropanchork");

				highlight("", "descriptioni");
				highlight("/", "descriptioni");
				highlight("/issue-i", "descriptioni");
				highlight("/issue-i", "descriptionisi");
				highlight("/special-issues", "descriptions");
				highlight("/kanon", "descriptionk");

				highlight("/deabonnieren", "etc");
				highlight("/deabonnieren", "descriptiond");
				
				highlight("/impressum", "etc");
				highlight("/impressum", "descriptionim");

				highlight("/datenschutz", "etc");
				highlight("/datenschutz", "descriptionda");
			});

			function highlight(url, element) {
				if (window.location.href.toLowerCase() == ("https://www.GEFAENGNISHEFTE.org" + url).toLowerCase()) {
					document.getElementById(element).style.fontWeight = "700";
				}
			}
		</script>

		<script>

			// ABONNIEREN
	
			document.getElementById("abonnieren").addEventListener('submit', function(event){

				event.preventDefault()

				$.ajax({
					method: 'POST',
					url: 'https://formsubmit.co/ajax/6d2bd15bcc3410a47e44b78943d390d0',
					dataType: 'json',
					accepts: 'application/json',
					data: $(event.target).serialize()
					,
					success: (data) => console.log(data),
					error: (err) => console.log(err)
				});

				document.getElementById("abonnierenbutton").textContent = 'Abonniert!';
				document.getElementById("abonnierenbutton").disabled = true;
				document.getElementById("abonniereninfo").style.display = "none";
				document.getElementById("abonniertinfo").style.display = "block";
			})

			document.getElementById("abonnieren").addEventListener('input', function(event){
				document.getElementById("abonnierenbutton").textContent = 'Abonnieren';
				document.getElementById("abonnierenbutton").disabled = false;
			});

		</script>



		<style>

			/* GENERAL */

			#header-wrap {
				display: flex;
				justify-content: space-between;
				align-items: center;
				padding:0px;
				margin:0px;
				font-size: 13pt;
			}

			#headerlogo {
				margin:13px 0px 13px 20px;
			}

			#headerlogo > a {
				color:black !important;
			}

			#navigation {
				display: flex;
				gap: 30px;
				padding:15px 20px 15px 10px;
			}

			a:active, a:visited, a:link {
				color: white;
				transition: 0.1s;
			}

			a:hover {
				color: lightgrey;
				transition: 0.1s;
			}


			/* DROPMENU */

			.dropmenu {
				overflow:hidden;
				white-space: nowrap;
				position:absolute;
				right:0;
				top:0;
				width: 0vw;
				background-color: var(--header-color);
				z-index:11;
			}

			.dropanchor {
				position: relative;
				z-index:12;
			}

			.menu-spacer {
				text-align: right;
				visibility: hidden;
				font-size: 13pt;
				padding:15px 20px 15px 20px;
				margin: 0px;
				-webkit-touch-callout: none;
				-webkit-user-select: none;
				-khtml-user-select: none;
				-moz-user-select: none;
				-ms-user-select: none;
				user-select: none;
			}

			#showissues:hover, #hideissues:hover {
				color: lightgray;
			}

			#showissues, #hideissues {
				cursor: pointer;
			}


			/* EXPANDED */

			#closemenu, #openmenu {
				cursor: pointer;
			}

			#closemenu {
				display: none;
				width:100vw;
			}

			.description {
				font-size: 11pt;
			}

			#hideissues {
				display: none;
			}

			#issue-list {
				display: none;
				margin-top:5px;
				margin-bottom:30px;
			}

			#footer-wrap {
				font-size: 11pt;
				line-height: 1.7;
				margin-bottom:40px;
				text-align: left;
			}

			
			/* INFO */

			.info {
				padding: 25px 40px 25px 40px;
				line-height: 1.7;
				font-size: 13pt;
			}

			#infos, #infok {
				text-align: left;
			}

			#infoi {
				font-size: 13pt;
			}

			#infom {
				padding-bottom:40px;
			}

			#infoe {
				margin-top: 0px;
				padding-top: 0px;
			}


			/* TEXT ALIGN LAST */

			.spacedissues, .spacedtitles, #issue-list>* {
				width:100%;
				display:flex;
				justify-content: space-between;
				align-items: center;
			}

			
			/* FORM */

			#abonniertinfo, #abonniereninfo {
				display: none;
				width:400px;
				padding-top:20px;
				font-size: 9pt;
				line-height: 1.3;
				text-align: left;
				white-space: pre-wrap;
			}

			#abonniereninfo {
				display:block;
			}

			#etc {
				cursor: default;
			}

			#openmenu {
				cursor: pointer;
			}

			/* REACTIVE */

			@media screen and (min-width: 800px) {

				#openmenu {
					display: none;
				}

				#infoe {
					display: none;
				}

				#menuspacer {
					display:none;
					background-color: lightgray;
				}
			}

			@media screen and (max-width: 800px) {
				.hmenu, #etc {
					display: none;
				}
			}

			@media screen and (width: 800px) {
				.hmenu, #etc {
					display: block;
				}
			}

			#checkbox {
				border: solid white;
				border-width:1px;
				cursor: pointer;
			}

			#check {
				min-height:30px;
				min-width:30px;
				padding:1px;
				visibility: hidden;
			}

		</style>
	</head>

	<body>
		<div id="header-wrap">

			<div class="logo" id="headerlogo"><a href="https://www.GEFAENGNISHEFTE.org">GEFÄNGNISHEFTE</a></div> 

			<nav id="navigation" onmouseleave="closemenu()">

				<!-- ISSUES -->

				<div class="hmenu" onmouseenter="openmenu('dropmenui', 'dropanchori')">
					<span class="dropanchor" id="dropanchori">
						<a href="https://www.GEFAENGNISHEFTE.org">ISSUES</a>
					</span>

					<div class="dropmenu" id="dropmenui" >
						<div class="menu-spacer">X</div>
						<hr>
						<div class="info" id="infoi">
							<a id="info-issue-i" class="spacedissues" href="https://www.GEFAENGNISHEFTE.org/issue-i"><span>ISSUE I</span> <span>ALTERNATIVE UTOPIEN</span></a>
							<a id="info-issue-ii" class="spacedissues" href="https://www.GEFAENGNISHEFTE.org/issue-i"><span>ISSUE II</span> <span>REFORM ODER REVOLUTION</span></a>
							<a id="info-issue-iii" class="spacedissues" href="https://www.GEFAENGNISHEFTE.org/issue-i"><span>ISSUE II</span> <span>IST POPULISMUS GUT?</span></a>
						</div>
						<hr class="bottom-divider">
					</div>
				</div>

				<!-- SPECIAL ISSUES -->
				
				<div class="hmenu" onmouseenter="openmenu('dropmenus', 'dropanchors')">
					<span class="dropanchor" id="dropanchors">
						<a href="https://www.GEFAENGNISHEFTE.org/special-issues">SPECIAL ISSUES</a>
					</span>

					<div class="dropmenu" id="dropmenus">
						<div class="menu-spacer">X</div>
						<hr>
						<div class="info" id="infos">
							<a href="https://www.GEFAENGNISHEFTE.org/special-issues">Projekte von Freund*innen</a>
						</div>
						<hr class="bottom-divider">
					</div>
				</div>

				<!-- KANON -->

				<div class="hmenu" onmouseenter="openmenu('dropmenuk', 'dropanchork')">
					<span class="dropanchor" id="dropanchork">
						<a href="https://www.GEFAENGNISHEFTE.org/kanon">KANON</a>
					</span>

					<div class="dropmenu" id="dropmenuk">
						<div class="menu-spacer">X</div>
						<hr>
						<div class="info" id="infok">
							<a href="https://www.GEFAENGNISHEFTE.org/kanon">Eine Zusammenstellung sehenswerter Dinge</a>
						</div>
						<hr class="bottom-divider">
					</div>
				</div>

				<!-- MENU/ETC -->

				<div onmouseenter="openmenu('dropmenum', 'dropanchorm')">
					<span class="dropanchor" id="dropanchorm">
						<span class="label" id="etc" onclick="openmenu('dropmenum', 'dropanchorm')">ETC</span>
						<span class="label" id="openmenu" onclick="openmenu('dropmenum', 'dropanchorm')">MENÜ</span>
						<span class="label" id="closemenu" onclick="closemenu()">X</span>
					</span>

					<!-- NAV -->

					<div class="dropmenu" id="dropmenum">
						<div class="menu-spacer">X</div>

						<!-- EXPANDEDMENU -->

						<div class="info" id="infoe">
							<div class="spacedtitles">
								<a href="https://www.GEFAENGNISHEFTE.org"><span id="descriptioni">ISSUES</span></a>
									<span class="description" id="showissues" onclick="showissues()">Einblenden</span>
									<span class="description" id="hideissues" onclick="hideissues()">Ausblenden</span>
							</div>
							<div id="issue-list">
								<a class="description" id="descriptionisi" href="https://www.GEFAENGNISHEFTE.org/issue-i"><span>ISSUE I</span> <span>ALTERNATIVE UTOPIEN</span></a>
								<a class="description" id="descriptionisii" href="https://www.GEFAENGNISHEFTE.org/issue-i"><span>ISSUE II</span> <span>REFORM ODER REVOLUTION</span></a>
								<a class="description" id="descriptionisiii" href="https://www.GEFAENGNISHEFTE.org/issue-i"><span>ISSUE III</span> <span>IST POPULISMUS GUT?</span></a>
							</div>
							<div>
								<a href="https://www.GEFAENGNISHEFTE.org/special-issues" class="spacedtitles"><span id="descriptions">SPECIAL&#x2005;ISSUES</span>
								<span class="description">Projekte von Freund*innen</span></a>
							</div>
							<div  class="spacedtitles">
								<a href="https://www.GEFAENGNISHEFTE.org/kanon" class="spacedtitles"><span id="descriptionk">KANON</span>
								<span class="description">Sehenswertes</span></a>
							</div>
						</div>
						
						<!-- INFO -->

						<hr>
						<div class="info" id="infom">

							<div id="footer-wrap">
								<a href="https://www.paypal.com/paypalme/GEFAENGNISHEFTE">Unterstützen: paypal.me/GEFAENGNISHEFTE</a><br>
								<a href="mailto:GEFAENGNISHEFTE@riseup.net">Kontaktieren: GEFAENGNISHEFTE@riseup.net</a><br>
								<a href="https://www.GEFAENGNISHEFTE.org/deabonnieren" id="descriptiond">Deabonnieren</a><br>
								<a href="https://www.GEFAENGNISHEFTE.org/impressum" id="descriptionim">Impressum</a><br>
								<a href="https://www.GEFAENGNISHEFTE.org/datenschutz" id="descriptionda">Datenschutzerklärung</a><br>
								
								<!-- <div id="nachmodus">
									<span onclick="togglenachtmodus()" style="cursor: pointer;">Nachtmodus </span>
								</div> -->
							</div>

	
							<div>
								<form id="abonnieren" class="abo">
									<button type="submit" id="abonnierenbutton">Abonnieren</button>
									<span><input type="email" name="Email" placeholder="Email" required></span>
									<input type="hidden" name="_subject" value="Neue Abonennt*in!">
									<input type="hidden" name="_captcha" value="true">
								</form>

								<div id="abonniereninfo">Abonniere, um über neue ISSUES benachrichtigt zu werden. Hinweise zum Widerruf und der Verarbeitung deiner Daten geben wir in unserer <a href="https://www.GEFAENGNISHEFTE.org/datenschutz">Datenschutzerklärung</a>.</div>
								<div id="abonniertinfo">Ein Link zum <a href="https://www.GEFAENGNISHEFTE.org/deabonnieren">Deabonnieren</a> findest du in jeder Mail.</div>
							</div>
						</div>
						
						<hr class="bottom-divider">
					</div>
				</div>
			</nav>

		</div>
	</body>
</html>