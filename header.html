<!DOCTYPE html>
<html>
	<head>

        <script>

			// HEIGHTFIX

            let vh = window.innerHeight * 0.01;
            document.documentElement.style.setProperty('--vh', `${vh}px`);

            window.addEventListener('resize', () => {
                let vh = window.innerHeight * 0.01;
                document.documentElement.style.setProperty('--vh', `${vh}px`);
            });
        </script>

		<script>

			// CUSTOM SCROLLBAR

			var scrollbarcolor = getComputedStyle(document.documentElement).getPropertyValue('--default-scrollbar-color');
			var timeoutid;

			function hidescrollbar() {
				document.documentElement.style.setProperty('--scrollbar-color', 'transparent');
			}
			
			document.getElementById("content").addEventListener("scroll", () => {
				document.documentElement.style.setProperty('--scrollbar-color', scrollbarcolor);
				clearTimeout(timeoutid)
				timeoutid = setTimeout(hidescrollbar, 3000);
			});
		</script>

		<script>

			// DROPMENU

			var menuopen = false;

            window.addEventListener("resize", (event) => {
                if ($(window).width() < 800 && !menuopen) {
					document.getElementById("openmenu").style.display = "inline";
                }
				else {
					document.getElementById("openmenu").style.display = "none";
				}
            });

			function openmenu(menu, anchor) {
				hidedropmenus();

				document.getElementById(menu).style.height = "fit-content";				
				document.getElementById(anchor).style.visibility = "visible";

				if ($(window).width() > 800) {
					document.getElementById(menu).style.width = document.getElementById("navigation").offsetWidth + 'px';
				}
				else {
					document.getElementById(menu).style.width = "100vw";
					document.getElementById("headerlogo").style.visibility = "hidden";
					document.getElementById("openmenu").style.display = "none";
					document.getElementById("closemenu").style.display = "inline";
				}

				menuopen = true
			}

			function closemenu() {

				hidedropmenus();

				if ($(window).width() < 800) {
					document.getElementById("headerlogo").style.visibility = "visible";
					document.getElementById("closemenu").style.display = "none";
					document.getElementById("openmenu").style.display = "inline";
				}

				hideissues()
				menuopen = false
			}

			function hidedropmenus() {
				document.getElementById("dropmenui").style.width = "0vw";
				document.getElementById("dropmenus").style.width = "0vw";
				document.getElementById("dropmenuk").style.width = "0vw";
				document.getElementById("dropmenum").style.width = "0vw";
			}

			function showissues() {
				document.getElementById("showissues").style.display = "none";
				document.getElementById("hideissues").style.display = "inline";
				document.getElementById("issue-list").style.display = "block";
			}

			function hideissues() {
				document.getElementById("showissues").style.display = "inline";
				document.getElementById("hideissues").style.display = "none";
				document.getElementById("issue-list").style.display = "none";
			}

			
		</script>

		<script>

			// NAVIGATION HIGHLIGHT

			$(function(){
				highlight("", "dropanchori");
				highlight("/", "dropanchori");
				highlight("/issue-i", "dropanchori");
				highlight("/issue-i", "info-issue-i");
				highlight("/special-issues", "dropanchors");
				highlight("/kanon", "dropanchork");

				highlight("", "descriptioni");
				highlight("/", "descriptioni");
				highlight("/issue-i", "descriptioni");
				highlight("/issue-i", "descriptionisi");
				highlight("/special-issues", "descriptions");
				highlight("/kanon", "descriptionk");

				highlight("/deabonnieren", "etc");
				highlight("/deabonnieren", "descriptiond");
				
				highlight("/impressum", "etc");
				highlight("/impressum", "descriptionim");
			});

			function highlight(url, element) {
				if (window.location.href.toLowerCase() == ("https://www.GEFAENGNISHEFTE.org" + url).toLowerCase()) {
					document.getElementById(element).style.fontWeight = "700";
				}
			}
		</script>

		<script>

			// ABONNIEREN

			$('.abonnieren').submit(function(event){
				event.preventDefault();

				document.getElementById("abonnierenbutton").textContent = 'Abonniert!';
				document.getElementById("abonnierenbutton").disabled = true;
				document.getElementById("abonniertinfo").style.display = "block";

				$.ajax({
					method: 'POST',
					url: 'https://formsubmit.co/ajax/6d2bd15bcc3410a47e44b78943d390d0',
					dataType: 'json',
					accepts: 'application/json',
					data: $(event.target).serialize()
					,
					success: (data) => console.log(data),
					error: (err) => console.log(err)
				});

			});

			$('.abonnieren').on('input', function(event) {
				document.getElementById("abonnierenbutton").textContent = 'Abonnieren';
				document.getElementById("abonnierenbutton").disabled = false;
				document.getElementById("abonniertinfo").style.display = "none";
			});

		</script>

		<style>

			/* GENERAL */

			#header-wrap {
				display: flex;
				justify-content: space-between;
				align-items: center;
				padding:0px;
				margin:0px;
				font-size: 15pt;
			}

			#headerlogo {
				margin:13px 0px 13px 20px;
			}

			#headerlogo > a {
				color:black !important;
			}

			#navigation {
				display: flex;
				gap: 30px;
				padding:15px 20px 15px 40px;
			}

			a:active, a:visited, a:link {
				color: white;
				transition: 0.1s;
			}

			a:hover {
				color: lightgrey;
				transition: 0.1s;
			}


			/* DROPMENU */

			.dropmenu {
				overflow:hidden;
				white-space: nowrap;
				position:absolute;
				right:0;
				top:0;
				width: 0vw;
				background-color: var(--header-color);
				z-index:11;
			}

			.dropanchor {
				position: relative;
				z-index:12;
			}

			.menu-spacer {
				text-align: right;
				visibility: hidden;
				font-size: 15pt;
				padding:15px 20px 15px 20px;
				margin: 0px;
				-webkit-touch-callout: none;
				-webkit-user-select: none;
				-khtml-user-select: none;
				-moz-user-select: none;
				-ms-user-select: none;
				user-select: none;
			}

			#showissues:hover, #hideissues:hover {
				color: lightgray;
			}

			#showissues, #hideissues {
				cursor: pointer;
			}


			/* EXPANDED */

			#closemenu, #openmenu {
				cursor: pointer;
			}

			#closemenu {
				display: none;
				width:100vw;
			}

			.description {
				font-size: 11pt;
			}

			#hideissues {
				display: none;
			}

			#issue-list {
				display: none;
				margin-top:5px;
				margin-bottom:30px;
			}

			#footer-wrap {
				font-size: 11pt;
				line-height: 1.7;
				margin-bottom:40px;
				text-align: left;
			}

			
			/* INFO */

			.info {
				padding: 25px 40px 25px 40px;
				line-height: 1.7;
				font-size: 15pt;
			}

			#infos, #infok {
				text-align: left;
			}

			#infoi {
				font-size: 13pt;
			}

			#infom {
				padding-bottom:40px;
			}

			#infoe {
				margin-top: 0px;
				padding-top: 0px;
			}


			/* TEXT ALIGN LAST */

			.spacedissues, .spacedtitles, #issue-list>* {
				width:100%;
				display:flex;
				justify-content: space-between;
				align-items: center;
			}

			
			/* FORM */
			
			.abonnieren {
				width:100%;
				overflow:hidden;
			}

			.abonnieren span {
				display:block;
				overflow:hidden;
				padding-right:48px;
			}
			
			.abonnieren input {
				width:100%;
                background-color:white;

				height: fit-content;
				font-size:15pt;
				padding: 5px 20px;
				color: black;
            }

            .abonnieren button {
				float:right;
                background-color:lightgrey;

                cursor: pointer;
				height: fit-content;
				font-size:15pt;
				padding: 5px 20px;
				color: black;
            }

			#abonniertinfo {
				display: none;
				width:400px;
				padding-top:20px;
				font-size: 11pt;
				line-height: 1.7;
				text-align: left;
				white-space: pre-wrap;
			}

			/* REACTIVE */

			@media screen and (min-width: 800px) {

				#openmenu {
					display: none;
				}

				#infoe {
					display: none;
				}

				#menuspacer {
					display:none;
					background-color: lightgray;
				}
			}

			@media screen and (max-width: 800px) {
				.hmenu, #etc {
					display: none;
				}
			}

			@media screen and (width: 800px) {
				.hmenu, #etc {
					display: block;
				}
			}

		</style>
	</head>

	<body>
		<div id="header-wrap">

			<div class="logo" id="headerlogo"><a href="https://www.GEFAENGNISHEFTE.org">GEFÄNGNISHEFTE</a></div> 

			<nav id="navigation" onmouseleave="closemenu()">

				<!-- ISSUES -->

				<div class="hmenu" onmouseenter="openmenu('dropmenui', 'dropanchori')">
					<span class="dropanchor" id="dropanchori">
						<a href="https://www.GEFAENGNISHEFTE.org">ISSUES</a>
					</span>

					<div class="dropmenu" id="dropmenui" >
						<div class="menu-spacer">X</div>
						<hr>
						<div class="info" id="infoi">
							<a id="info-issue-i" class="spacedissues" href="https://www.GEFAENGNISHEFTE.org/issue-i"><span>ISSUE I</span> <span>ALTERNATIVE UTOPIEN</span></a>
							<a id="info-issue-ii" class="spacedissues" href="https://www.GEFAENGNISHEFTE.org/issue-i"><span>ISSUE II</span> <span>REFORM ODER REVOLUTION</span></a>
							<a id="info-issue-iii" class="spacedissues" href="https://www.GEFAENGNISHEFTE.org/issue-i"><span>ISSUE II</span> <span>IST POPULISMUS GUT?</span></a>
						</div>
						<hr class="bottom-divider">
					</div>
				</div>

				<!-- SPECIAL ISSUES -->
				
				<div class="hmenu" onmouseenter="openmenu('dropmenus', 'dropanchors')">
					<span class="dropanchor" id="dropanchors">
						<a href="https://www.GEFAENGNISHEFTE.org/special-issues">SPECIAL ISSUES</a>
					</span>

					<div class="dropmenu" id="dropmenus">
						<div class="menu-spacer">X</div>
						<hr>
						<div class="info" id="infos">
							<a href="https://www.GEFAENGNISHEFTE.org/special-issues">Projekte von Freund*innen</a>
						</div>
						<hr class="bottom-divider">
					</div>
				</div>

				<!-- KANON -->

				<div class="hmenu" onmouseenter="openmenu('dropmenuk', 'dropanchork')">
					<span class="dropanchor" id="dropanchork">
						<a href="https://www.GEFAENGNISHEFTE.org/kanon">KANON</a>
					</span>

					<div class="dropmenu" id="dropmenuk">
						<div class="menu-spacer">X</div>
						<hr>
						<div class="info" id="infok">
							<a href="https://www.GEFAENGNISHEFTE.org/kanon">Eine Sammlung sehenswerter Dinge</a>
						</div>
						<hr class="bottom-divider">
					</div>
				</div>

				<!-- MENU/ETC -->

				<div onmouseenter="openmenu('dropmenum', 'dropanchorm')">
					<span class="dropanchor" id="dropanchorm">
						<span class="label" id="etc">ETC</span>
						<span class="label" id="openmenu" onclick="openmenu('dropmenum', 'dropanchorm')">MENÜ</span>
						<span class="label" id="closemenu" onclick="closemenu()">X</span>
					</span>

					<!-- NAV -->

					<div class="dropmenu" id="dropmenum">
						<div class="menu-spacer">X</div>

						<!-- EXPANDEDMENU -->

						<div class="info" id="infoe">
							<div class="spacedtitles">
								<a href="https://www.GEFAENGNISHEFTE.org"><span id="descriptioni">ISSUES</span></a>
									<span class="description" id="showissues" onclick="showissues()">Einblenden</span>
									<span class="description" id="hideissues" onclick="hideissues()">Ausblenden</span>
							</div>
							<div id="issue-list">
								<a class="description" id="descriptionisi" href="https://www.GEFAENGNISHEFTE.org/issue-i"><span>ISSUE I</span> <span>ALTERNATIVE UTOPIEN</span></a>
								<a class="description" id="descriptionisii" href="https://www.GEFAENGNISHEFTE.org/issue-i"><span>ISSUE II</span> <span>REFORM ODER REVOLUTION</span></a>
								<a class="description" id="descriptionisiii" href="https://www.GEFAENGNISHEFTE.org/issue-i"><span>ISSUE III</span> <span>IST POPULISMUS GUT?</span></a>
							</div>
							<div>
								<a href="https://www.GEFAENGNISHEFTE.org/special-issues" class="spacedtitles"><span id="descriptions">SPECIAL&#x2005;ISSUES</span>
								<span class="description">Projekte von Freund*innen</span></a>
							</div>
							<div  class="spacedtitles">
								<a href="https://www.GEFAENGNISHEFTE.org/kanon" class="spacedtitles"><span id="descriptionk">KANON</span>
								<span class="description">Sehenswertes</span></a>
							</div>
						</div>
						
						<!-- INFO -->

						<hr>
						<div class="info" id="infom">

							<div id="footer-wrap">
								Unterstützen: <a href="paypal.me/GEFAENGNISHEFTE">paypal.me/GEFAENGNISHEFTE</a><br>
								Kontaktieren: <a href="mailto:GEFAENGNISHEFTE@riseup.net">GEFAENGNISHEFTE@riseup.net</a><br>
								<a href="https://www.GEFAENGNISHEFTE.org/deabonnieren" id="descriptiond">Deabonnieren</a><br>
								<a href="https://www.GEFAENGNISHEFTE.org/impressum" id="descriptionim">Impressum</a><br>
							</div>
	
							<div id="abonnieren-wrap">
								<form class="abonnieren">
									<button type="submit" id="abonnierenbutton">Abonnieren</button>
									<span><input type="email" name="Email" placeholder="Email" required></span>
									<input type="hidden" name="_subject" value="Neue Abonennt*in!">
									<input type="hidden" name="_captcha" value="false">
								</form>

								<div id="abonniertinfo">Ein Link zum <a href="https://www.GEFAENGNISHEFTE.org/deabonnieren">Deabonnieren</a> in jeder Mail.</div>
							</div>
						</div>
						
						<hr class="bottom-divider">
					</div>
				</div>
			</nav>

		</div>
	</body>
</html>